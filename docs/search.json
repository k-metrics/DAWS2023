[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "『統計ソフト「R」超入門』",
    "section": "",
    "text": "環境構築\n本資料では『統計ソフト「R」超入門』逸見功著（以降、テキスト）で利用するR/R Commander環境を構築する方法を紹介しています。Windows10/11環境のみが対象で、他のOSを利用したい場合はCRANにてインストール方法を確認してください。\n環境構築はインターネットに接続された環境で行う必要があります。イントラネットなどで外部に接続する際にプロキシサーバーが必要な環境ではR Commanderがインストールできませんのでご注意ください。"
  },
  {
    "objectID": "index.html#rのインストール",
    "href": "index.html#rのインストール",
    "title": "『統計ソフト「R」超入門』",
    "section": "Rのインストール",
    "text": "Rのインストール\nテキストのP24から図解されていますので、図解が必要な場合はテキストを参照してください。\n　\n\nダウンロード\n\nCRANからRの最新版インストーラをダウンロードします\nダウンロードしたファイルのウィルスチェックをします\n\n\n\n\n\n\n\nTip: Version\n\n\n\n書籍と同じバージョンを利用したい場合はこちらからR4.2.2をダウンロードしてください。\n\n\n\n\nインストール\nRのインストールではダイアログでの問い合わせに対して基本的にデフォルトを選択します。ただし、R Commnderを使いやすくするために起動時オプションの選択だけはデフォルトから変更します。\n\nダウンロードしたファイル（インストーラ）を実行\n\n以降、ウィザード形式の指示に従う\n\nインストール言語を選択\nライセンスを確認\nインストール先を指定\nコンポーネントを選択\n起動時オプションを選択\n\n「はい(カスタマイズする)」を選択\n\n\n\n表示モード\n\n「SDI(複数のウィンドウを使用して表示)」を選択\n\n\nヘルプの表示方法\n\n「HTMLヘルプ」を選択\n\n\n\nスタートメニューフォルダーの指定\n追加タスクの選択\n\n「アイコンの追加」はお好みで選択\n\nインストール状況（プログレス表示）\n完了\n\n\n\n\n\n\n\nTip: MDI or SDI\n\n\n\nR Commanderを利用する場合は、操作ウィンドウやグラフ表示に個々のウィンドウを割り当てるSDIモードが便利です。インストール時にMDIを選択してた場合でもR起動後にオプションで変更できます。\n\n\n　\n\n\n起動確認\nスタートメニューから［R］-［R 4.x.x］を実行し下図のようなウィンドウが表示されることを確認します。\n\n\n\nR Console\n\n\nそのまま、R Commanderのインストールに進みます。"
  },
  {
    "objectID": "index.html#r-commanderのインストール",
    "href": "index.html#r-commanderのインストール",
    "title": "『統計ソフト「R」超入門』",
    "section": "R Commanderのインストール",
    "text": "R Commanderのインストール\nテキストのP28から図解されていますので、図解が必要な場合はテキストを参照してください。\n　\n\nインストール\nR CommanderのインストールはRから行います。\n\nRのメニューから［パッケージ］-［パッケージのインストール…］を実行\nパッケージをダウンロードするミラーサイトを選択して［OK］をクリック\n\nデフォルトの「0-Cloud[https]」を選択\n\nパッケージ一覧から「Rcmdr」を選択して［OK］をクリック\nパーソナルライブラリの利用確認\n\n初回のみで［はい(Y)］をクリック\n\nインストール先の確認\n\n初回のみで［はい(Y)］をクリック\n\nパッケージダウンロードのプログレスが複数表示\n\nなにもしない\n\nR Commanderインストール完了\n\n\n\n\nR Console\n\n\n　\n\n\n起動確認\nR Commanderが起動することを確認します。\n\nRのメニューから［パッケージ］-［パッケージの読み込み…］を実行\n「Rcmdr」を選択\n不足パッケージのインストール\n\n初回のみ\n\nダウンロード先の選択\n\nデフォルトの「CRAN」を選択\n\nR Commander起動\n\n\n\n\nR Commander"
  },
  {
    "objectID": "index.html#動作確認",
    "href": "index.html#動作確認",
    "title": "『統計ソフト「R」超入門』",
    "section": "動作確認",
    "text": "動作確認\n以下はR Commanderウィンドウでの操作になります。\n\nメニューバーの下にある［データセット:］の部分が「&lt;アクティブデータセットなし&gt;」になっていることを確認\nメニューから［データ］-［パッケージ内のデータ］-［アタッチされたパッケージからデータセットを読み込む…］を実行\n［データセット名を入力:］欄に「iris」と入力し［OK］をクリック\nメニューバーの下にある［データセット:］の部分が「iris」になっていることを確認\nメニューから［グラフ］-［箱ひげ図…］を実行\n［変数］の「Petal.Length」をクリックし［OK］をクリック\n別ウィンドウで箱ひげ図が描かれることを確認\n\n\n\n\nR Commander\n\n\n\n\n\n\n\n\nTip: Version\n\n\n\n「アクティブデータセット」はR Commander特有の概念です。R単体でも同様のことはできますが変数の参照間違いにつながりやすいので一般的には使用しません。"
  },
  {
    "objectID": "dataset.html#データセットとは",
    "href": "dataset.html#データセットとは",
    "title": "データセット",
    "section": "データセットとは",
    "text": "データセットとは\nRにおけるデータセットとは分析対象となるデータの集まりを意味します。例えば、下表のような車の諸元をまとめたものはデータセットです。\n\n\n\n\n  \n\n\n\n　\nRではこのようなデータセットをdata.frame型という変数型を用いて一つの変数として扱うことができます。なお、data.frame型変数はTidy data（整然データ）である必要があります。\n　\n\n\n\n\n\n\nTip: Tidy data（整然データ）\n\n\n\n以下の条件を満たす表型のデータをTidy dataといい、構造と意味が合致しているのが特徴です。\n　1. 個々の変数が一つの列をなす\n　2. 個々の観測が一つの行をなす\n　3. 個々の値が一つのセルをなす\n　4. 個々の観測の構成単位の累計が一つの表をなす\nなので、神ExcelはTidy dataにはなり得ません。\n\n\n　\ndata.frame型変数は以下のような構造を取る変数型です。このデータセットでは11個の実数型変数（num）からなる32組の観測（車種）があることがわかります。\n\n\n'data.frame':   32 obs. of  11 variables:\n $ mpg : num  21 21 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 ...\n $ cyl : num  6 6 4 6 8 6 8 4 4 6 ...\n $ disp: num  160 160 108 258 360 ...\n $ hp  : num  110 110 93 110 175 105 245 62 95 123 ...\n $ drat: num  3.9 3.9 3.85 3.08 3.15 2.76 3.21 3.69 3.92 3.92 ...\n $ wt  : num  2.62 2.88 2.32 3.21 3.44 ...\n $ qsec: num  16.5 17 18.6 19.4 17 ...\n $ vs  : num  0 0 1 1 0 1 0 1 1 1 ...\n $ am  : num  1 1 1 0 0 0 0 0 0 0 ...\n $ gear: num  4 4 4 3 3 3 3 4 4 4 ...\n $ carb: num  4 4 1 1 2 1 4 2 2 4 ..."
  },
  {
    "objectID": "dataset.html#組み込みデータセット",
    "href": "dataset.html#組み込みデータセット",
    "title": "データセット",
    "section": "組み込みデータセット",
    "text": "組み込みデータセット\nRには様々なデータセットがあらかじめ組み込まれています。テキストP36のパッケージ付属データと同義です。特に標準で用意されているdatasetsパッケージには様々なデータセットが組み込まれていますので、代表的なデータセットを簡単に紹介しておきます。\n　\n\nIris flower data set\n統計学の世界で最も有名な「フィッシャーのアヤメ」のデータセットです。\n\n\nCode\ndatasets::iris\n\n\n\n\n\n\n  \n\n\n\n三種類のアヤメの萼片と花弁の計測値が計150組格納されていることがわかります。品種（Species）は因子型と呼ばれる変数型になっています。因子型変数は層別処理を行う場合に有用な変数型です。\n\n\n'data.frame':   150 obs. of  5 variables:\n $ Sepal.Length: num  5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ...\n $ Sepal.Width : num  3.5 3 3.2 3.1 3.6 3.9 3.4 3.4 2.9 3.1 ...\n $ Petal.Length: num  1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 ...\n $ Petal.Width : num  0.2 0.2 0.2 0.2 0.2 0.4 0.3 0.2 0.2 0.1 ...\n $ Species     : Factor w/ 3 levels \"setosa\",\"versicolor\",..: 1 1 1 1 1 1 1 1 1 1 ...\n\n\n　\n\n\nNew York Air Quarity Measurements\n1973年5月から9月にかけてニューヨークで観測された大気データのデータセットで欠損値（欠測値）が含まれています。\n\n\nCode\ndatasets::airquality\n\n\n\n\n\n\n  \n\n\n\nオゾン濃度、日射量、風速、気温などの測定値153日分のデータが格納されて、6変数のすべてが数値データですが、整数型（int）と実数型（num）が混在しています。欠損値（欠測値）はNAと表示されます。\n\n\n'data.frame':   153 obs. of  6 variables:\n $ Ozone  : int  41 36 12 18 NA 28 23 19 8 NA ...\n $ Solar.R: int  190 118 149 313 NA NA 299 99 19 194 ...\n $ Wind   : num  7.4 8 12.6 11.5 14.3 14.9 8.6 13.8 20.1 8.6 ...\n $ Temp   : int  67 72 74 62 56 66 65 59 61 69 ...\n $ Month  : int  5 5 5 5 5 5 5 5 5 5 ...\n $ Day    : int  1 2 3 4 5 6 7 8 9 10 ..."
  },
  {
    "objectID": "dataset.html#データセットを作成する",
    "href": "dataset.html#データセットを作成する",
    "title": "データセット",
    "section": "データセットを作成する",
    "text": "データセットを作成する\nR Commanderにはデータセットを作成するための機能が組み込まれていますが、Excelのような表計算ソフトを使ってデータファイルをを作成した方が早くて便利ですし融通が利きます。R Commanderが対応している代表的なファイル形式はxls形式、xlsx形式、CSV形式です。\n変数名などに日本語が含まれるデータをCSV形式でファイルに保存する場合は必ずUTF-8エンコーディングを指定してください。日本語版ExcelはデフォルトでシフトJISエンコーディングのCSVファイルを作成します。R Commanderの読み込み処理ではエンコーディングが指定されないためにエンコーディングエラーを起こしてファイルを読み込むことができません。このエラーはR 4.2.xからデフォルトエンコーディングがUTF-8に変更されたことに起因しています。\n　\n\nR Commanderのためのデータセット\nR CommanderではGUI操作の弊害で様々なオプションの指定ができないため以下の規則に則ってファイルを作成することで読み込み時のエラーを回避することができます。\n\nTidy data形式を守る\n\n神Excelにしない\n\n一行目には必ず変数名を記載する\n\n変数名に（_,-を除く）記号・空白を使わない\n変数名の最初の文字を数字・記号（_,-）にしない\n\nこれらはRの変数名に対する制限です\n\n\n各列の行数を合わせる\n\n行数が合わないと自動的に先頭からのデータを用いて行数が一致するように埋めてしまう場合があります\n\n正しくないデータセットができてしまう\n\n欠損値（欠測値）の扱いに関しては、明示的にNAと文字を入力するか空白（何も入力しない）にするかをあらかじめ決めておく\n\nNAを使うと表計算ソフトで処理できなくなる可能性あり"
  },
  {
    "objectID": "dataset.html#データセットを読み込む",
    "href": "dataset.html#データセットを読み込む",
    "title": "データセット",
    "section": "データセットを読み込む",
    "text": "データセットを読み込む\nR Commanderでデータセットのファイルを読み込むには［データ］メニューを使います。\n　\n\nCSV(UTF-8)形式の場合\n［データ］-［データのインポート］-［テキストファイルまたはクリップボード,URL から…］を実行すると下図のようなダイアログが開きます。\n\n\n\n条件設定ダイアログ\n\n\n各設定項目の意味は\n\n\n\n\n\n\n\n設定項目\n設定内容\n\n\n\n\nデータセット名を入力\nデータセットの変数名\n\n\nファイル内に変数名あり\n一行目を変数名にする場合はチェック\n\n\n文字変数を因子に変換\n最初の頃はそのままで\n\n\n欠測値の記号\n「NA」のままで（空白でも欠損値扱いになる）\n\n\nデータファイルの場所\n\n\n\nフィールドの区切り記号\nCSVの場合は「カンマ」、TSVの場合は「タブ」\n\n\n小数点の記号\n通常は「カンマ」\n\n\n\nデータファイルの場所をローカルファイルシステムまたはインターネットのURLにして ［OK］ボタンをクリックすると入力ダイアログが開きますので、読み込みたいファイルを選択するかURLを入力してください。\n　\n\n\nxls形式／xlsx形式の場合\n［データ］-［データのインポート］-［エクセルファイルから…］\n\n\n\n条件設定ダイアログ\n\n\n各設定項目の意味は\n\n\n\n\n\n\n\n設定項目\n設定内容\n\n\n\n\nデータセット名を入力\nデータセットの変数名\n\n\nスプレッドシートの1行目の変数名\n一行目が変数名な場合はチェック\n\n\nスプレッドシートの1列目の行名\n最初の頃はそのままで（行名は使わない）\n\n\n文字列を因子に変換\n最初の頃はそのままで\n\n\n欠測値の記号\n基本的にはそのままで\n\n\n\n　\n\n\n.RData形式の場合\n［データ］-［データセットのロード…］を実行するとOSのファイル選択ダイアログが開きますので読み込みたい.RData形式のファイルを指定します。"
  },
  {
    "objectID": "dataset.html#アクティブデータセット",
    "href": "dataset.html#アクティブデータセット",
    "title": "データセット",
    "section": "アクティブデータセット",
    "text": "アクティブデータセット\nR Commanderにはアクティブデータセットという概念があります。アクティブデータセットとは計算対象となるデータセットのことで、指定されていないと統計用の算出やグラフによる可視化ができません。"
  }
]